<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Redmine," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="Update the SystemCopy and execute the following command to update the critical components of the system :1yum update
After the update completed, we need to restart the system using the following comma">
<meta property="og:type" content="article">
<meta property="og:title" content="Install Redmine on Centos 6.5 - 64 bit">
<meta property="og:url" content="http://zhangyouzhi.com/2014/12/16/CentOS-install-redmine/index.html">
<meta property="og:site_name" content="ZhangYouzhi's Blog">
<meta property="og:description" content="Update the SystemCopy and execute the following command to update the critical components of the system :1yum update
After the update completed, we need to restart the system using the following comma">
<meta property="og:image" content="http://i.imgur.com/LKpTc2C.jpg">
<meta property="og:image" content="http://i.imgur.com/UP258Q3.jpg">
<meta property="og:image" content="http://i.imgur.com/J8Dq8l3.jpg">
<meta property="og:image" content="http://i.imgur.com/jm5adwC.jpg">
<meta property="og:image" content="http://i.imgur.com/xmLeYFY.jpg">
<meta property="og:updated_time" content="2016-01-31T13:36:57.850Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Install Redmine on Centos 6.5 - 64 bit">
<meta name="twitter:description" content="Update the SystemCopy and execute the following command to update the critical components of the system :1yum update
After the update completed, we need to restart the system using the following comma">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Install Redmine on Centos 6.5 - 64 bit | ZhangYouzhi's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?ceec6645739dddb1be0ef0cee9f335a3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">ZhangYouzhi's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Install Redmine on Centos 6.5 - 64 bit
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-12-16T16:58:58+08:00" content="2014-12-16">
              2014-12-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工作/" itemprop="url" rel="index">
                    <span itemprop="name">工作</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/16/CentOS-install-redmine/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/16/CentOS-install-redmine/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><h3 id="Update_the_System"><a href="#Update_the_System" class="headerlink" title="Update the System"></a>Update the System</h3><p>Copy and execute the following command to update the critical components of the system :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure></p>
<p>After the update completed, we need to restart the system using the following command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="Install_the_dependencies_packages"><a href="#Install_the_dependencies_packages" class="headerlink" title="Install the dependencies packages"></a>Install the dependencies packages</h3><p>These are the basic software packages for environment settings and utility tools to compile other packages in the next section.</p>
<p>Copy the block command and execute in the Putty Windows :</p>
<p>This is a long command line, copy all and implementation.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install nano zip unzip libyaml-devel zlib-devel curl-devel openssl-devel httpd-devel apr-devel apr-util-devel mysql-devel</span><br></pre></td></tr></table></figure></p>
<h3 id="Install_Apache_and_MySQL"><a href="#Install_Apache_and_MySQL" class="headerlink" title="Install Apache and MySQL"></a>Install Apache and MySQL</h3><p>Apache is a server application for communicating over the HTTP protocol. Apache runs on operating systems such as Unix, Linux, Microsoft Windows, and other operating systems.</p>
<p>Apache play an important role in the development of the internet and the world wide web.</p>
<p>MySQL is the database management free open source most popular on the world, MySQL has high speed, stability and ease of use, portability, operating on multiple operating systems offer a large system is very powerful utility functions.</p>
<p>With the speed and high security, MySQL is well suited for applications that access databases on the internet.</p>
<p>Use the following command to install :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd mysql mysql-server</span><br></pre></td></tr></table></figure></p>
<p>Allow start services when OS boot :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chkconfig httpd on</span><br><span class="line">chkconfig mysqld on</span><br><span class="line">service httpd start</span><br><span class="line">service mysqld start</span><br></pre></td></tr></table></figure></p>
<p>Set the password for MySQL<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/mysql_secure_installation</span><br></pre></td></tr></table></figure></p>
<p>Because we not have a password for the root account so you press Enter to skip.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter current password <span class="keyword">for</span> root (enter <span class="keyword">for</span> none):</span><br></pre></td></tr></table></figure></p>
<p>Select Yes to set the password for the MySQL root account.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set root password? [Y/n] Y</span><br></pre></td></tr></table></figure></p>
<p>Enter and confirm your password, remove the anonymous user, select Yes<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove anonymous users? [Y/n] Y</span><br></pre></td></tr></table></figure></p>
<p>Allow remote login to MySQL as root account, select No.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Disallow root login remotely? [Y/n] n</span><br></pre></td></tr></table></figure></p>
<p>Delete the test database, select Yes<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove <span class="built_in">test</span> database and access to it? [Y/n] Y</span><br></pre></td></tr></table></figure></p>
<p>Reload privilege tables, select Yes<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Reload privilege tables now? [Y/n] Y</span><br></pre></td></tr></table></figure></p>
<h3 id="Turn_off_SELinux"><a href="#Turn_off_SELinux" class="headerlink" title="Turn off SELinux"></a>Turn off SELinux</h3><p>SELinux is a security feature advanced for Linux operating system, when installing the system you need to turn off this feature to get the process done smoothly, after successful you can turn on back if you want.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/selinux/config</span><br></pre></td></tr></table></figure></p>
<p>Change the file content :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure></p>
<p>Press CTRL + O to save the file and press CTRL + X to exit.</p>
<h3 id="Set_up_the_Hostname"><a href="#Set_up_the_Hostname" class="headerlink" title="Set up the Hostname"></a>Set up the Hostname</h3><p>By default when installing a new OS Centos not set the hostname, so we need to setting with the command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/hosts</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span> localhost</span><br><span class="line">::<span class="number">1</span>         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"><span class="number">10.168</span>.<span class="number">226.151</span> iZ23lttzrggZ</span><br></pre></td></tr></table></figure>
<p>Add your domain name or host name that you set on both the command line, save the file and exit, the server name will be changed when restarting.</p>
<h3 id="Configuring_the_Firewall"><a href="#Configuring_the_Firewall" class="headerlink" title="Configuring the Firewall"></a>Configuring the Firewall</h3><p>We do not want to turn off the firewall because it’s quite important, so you need to add rules to allow port 80 for HTTP and port 443 for HTTPS.</p>
<p>In the Centos OS, you can configuration firewall by editing files iptables and ip6tables.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># Firewall configuration written by system-config-firewall</span></span><br><span class="line">[root@iZ23lttzrggZ lmmbao]<span class="comment"># vi /etc/sysconfig/iptables</span></span><br><span class="line"><span class="comment"># Firewall configuration written by system-config-firewall</span></span><br><span class="line"><span class="comment"># Manual customization of this file is not recommended</span></span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:FORWARD ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:OUTPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br><span class="line">-A INPUT -p icmp -j ACCEPT</span><br><span class="line">-A INPUT -i lo -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">22</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">80</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">443</span> -j ACCEPT</span><br><span class="line">-A INPUT -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure>
<p>Press Enter to create a new line after the line of port 22, copy the following two commands and right click on the window to the Paste command.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">80</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">443</span> -j ACCEPT</span><br></pre></td></tr></table></figure></p>
<p>Press CTRL + O to save the file and press CTRL + X to exit.</p>
<p>The same applies for IP6 firewall :<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysconfig/ip6tables</span><br></pre></td></tr></table></figure></p>
<p>Add these lines to the file.<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT&#10;-A INPUT -m state --state NEW -m tcp -p tcp --dport 443 -j ACCEPT</span><br></pre></td></tr></table></figure></p>
<p>After you finish editing both files, run the commands to apply the new rules for firewall.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/iptables restart</span><br><span class="line">/etc/init.d/ip6tables restart</span><br></pre></td></tr></table></figure></p>
<p>Allow turn on the firewall when reboot the operating system.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chkconfig iptables on</span><br><span class="line">chkconfig ip6tables on</span><br></pre></td></tr></table></figure></p>
<p>Finally, we need to restart the system to apply the changes to the SELinux and Hostname.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure></p>
<h3 id="Install_PHP_and_phpMyAdmin"><a href="#Install_PHP_and_phpMyAdmin" class="headerlink" title="Install PHP and phpMyAdmin"></a>Install PHP and phpMyAdmin</h3><p>Because we use MySQL database management system, so we need to install phpMyAdmin program management.</p>
<p>phpMyAdmin is a free open source tool written by PHP language to manage MySQL database via a web browser.</p>
<p>It can create, modify or delete databases, tables, fields or records, perform SQL statements, or managing users and permissions.</p>
<p>The command to install PHP and the packages :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install php php-mysql php-gd php-imap php-ldap php-mbstring php-odbc php-pear php-xml php-xmlrpc php-pecl-apc php-soap</span><br></pre></td></tr></table></figure></p>
<p>Restarting the Apache service :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd restart</span><br></pre></td></tr></table></figure></p>
<p>And install phpMyadmin :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm --import http://dag.wieers.com/rpm/packages/RPM-GPG-KEY.dag.txt</span><br><span class="line">yum install http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-<span class="number">0.5</span>.<span class="number">3</span>-<span class="number">1</span>.el6.rf.x86_64.rpm</span><br><span class="line">yum -y install phpmyadmin</span><br></pre></td></tr></table></figure></p>
<p>Editing the virtual host file to allow remote login to the phpMyadmin.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  GNU nano <span class="number">2.0</span>.<span class="number">9</span>                File: /etc/httpd/conf.d/phpmyadmin.conf                                       </span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  Web application to manage MySQL</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">&lt;Directory <span class="string">"/usr/share/phpmyadmin"</span>&gt;</span><br><span class="line">  Order Deny,Allow</span><br><span class="line">  Deny from all</span><br><span class="line">  Allow from <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">Alias /phpmyadmin /usr/share/phpmyadmin</span><br><span class="line">Alias /phpMyAdmin /usr/share/phpmyadmin</span><br><span class="line">Alias /mysqladmin /usr/share/phpmyadmin</span><br></pre></td></tr></table></figure></p>
<p>Replace text “Allow from 127.0.0.1” to “Allow from all”, save the file and exit.</p>
<p>Editing the configuration file for the phpMyadmin<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /usr/share/phpmyadmin/config.inc.php</span><br></pre></td></tr></table></figure></p>
<p>Replace text :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cfg</span>[<span class="string">'Servers'</span>][<span class="variable">$i</span>][<span class="string">'auth_type'</span>] = <span class="string">'cookie'</span>;</span><br></pre></td></tr></table></figure></p>
<p>To：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cfg</span>[<span class="string">'Servers'</span>][<span class="variable">$i</span>][<span class="string">'auth_type'</span>] = <span class="string">'http'</span>;</span><br></pre></td></tr></table></figure></p>
<p>Save the file and exit, restarting the Apache service :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd restart</span><br></pre></td></tr></table></figure></p>
<p>After successfully installed phpMyadmin, you can check at the address :<br><a href="http://your-domain/phpmyadmin" target="_blank" rel="external">http://your-domain/phpmyadmin</a><br>Login with account :  root / your_password<br>With Password has been set at step install MySQL database in the above.<br><img src="http://i.imgur.com/LKpTc2C.jpg" alt=""><br>Note: If you install the Redmine system on the PC or in a virtual machine which not on the dedicated server, we need to switch the application phpMyadmin to run on port 8080 because port 80 will be used for Redmine in the next steps.</p>
<p>We need add a port 8080 to the firewall and change the VirtualHost for phpMyadmin.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Firewall configuration written by system-config-firewall</span></span><br><span class="line"><span class="comment"># Manual customization of this file is not recommended</span></span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:FORWARD ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:OUTPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br><span class="line">-A INPUT -p icmp -j ACCEPT</span><br><span class="line">-A INPUT -i lo -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">22</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">80</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">443</span> -j ACCEPT</span><br><span class="line">-A INPUT -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure>
<p>Add the command line :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">8080</span> -j ACCEPT</span><br></pre></td></tr></table></figure></p>
<p>The same applies for IP6 firewall :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysconfig/ip6tables</span><br></pre></td></tr></table></figure></p>
<p>Add the command line :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">8080</span> -j ACCEPT</span><br></pre></td></tr></table></figure></p>
<p>Restarting firewall service to allow the new port.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/iptables restart</span><br><span class="line">/etc/init.d/ip6tables restart</span><br></pre></td></tr></table></figure></p>
<p>Editing the VirtualHost file to run phpMyadmin on the port 8080<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/httpd/conf.d/phpmyadmin.conf</span><br></pre></td></tr></table></figure></p>
<p>change<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  Web application to manage MySQL</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">&lt;Directory <span class="string">"/usr/share/phpmyadmin"</span>&gt;</span><br><span class="line">  Order Deny,Allow</span><br><span class="line">  Deny from all</span><br><span class="line">  Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">Alias /phpmyadmin /usr/share/phpmyadmin</span><br><span class="line">Alias /phpMyAdmin /usr/share/phpmyadmin</span><br><span class="line">Alias /mysqladmin /usr/share/phpmyadmin</span><br></pre></td></tr></table></figure></p>
<p>to:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">8080</span>&gt;</span><br><span class="line">    DocumentRoot /usr/share/phpmyadmin/</span><br><span class="line">    ServerName your_domain.com</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure></p>
<p>Next, add the command to allows listening on the port 8080 in the file “httpd.conf”<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/httpd/conf/httpd.conf</span><br></pre></td></tr></table></figure></p>
<p>Add the command line :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Listen <span class="number">8080</span></span><br></pre></td></tr></table></figure></p>
<p>Save the file and exit, restarting the Apache service :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd restart</span><br></pre></td></tr></table></figure></p>
<p>Now, phpMyadmin will run on the port 8080 at the address :</p>
<p><a href="http://your-domain:8080" target="_blank" rel="external">http://your-domain:8080</a><br><img src="http://i.imgur.com/UP258Q3.jpg" alt=""></p>
<h3 id="Install_Ruby"><a href="#Install_Ruby" class="headerlink" title="Install Ruby"></a>Install Ruby</h3><p>Ruby is a object-oriented programming language, capable of reflection. Syntax inherited from Ada and Perl with object-oriented features of Smalltalk, and also share some features with Python, Lisp, Dylan and CLU, Ruby is a single phase interpreter.</p>
<p>Ruby provides programming patterns, including functional programming, object-oriented, imperative, reflective, it uses dynamic variable and automatic memory management.</p>
<p>Install Ruby interpreter with version management program RVM.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\curl -L https://get.rvm.io | bash</span><br></pre></td></tr></table></figure></p>
<p>After successful, we will launch RVM<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile.d/rvm.sh</span><br></pre></td></tr></table></figure></p>
<p>The following command will list the versions of Ruby to install :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm list known</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># source /etc/profile.d/rvm.sh</span></span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># rvm list known</span></span><br><span class="line"><span class="comment"># MRI Rubies</span></span><br><span class="line">[ruby-]<span class="number">1.8</span>.<span class="number">6</span>[-p420]</span><br><span class="line">[ruby-]<span class="number">1.8</span>.<span class="number">7</span>[-head] <span class="comment"># security released on head</span></span><br><span class="line">[ruby-]<span class="number">1.9</span>.<span class="number">1</span>[-p431]</span><br><span class="line">[ruby-]<span class="number">1.9</span>.<span class="number">2</span>[-p330]</span><br><span class="line">[ruby-]<span class="number">1.9</span>.<span class="number">3</span>[-p551]</span><br><span class="line">[ruby-]<span class="number">2.0</span>.<span class="number">0</span>[-p598]</span><br><span class="line">[ruby-]<span class="number">2.1</span>.<span class="number">4</span></span><br><span class="line">[ruby-]<span class="number">2.1</span>[.<span class="number">5</span>]</span><br><span class="line">[ruby-]<span class="number">2.1</span>-head</span><br><span class="line">ruby-head</span><br><span class="line"></span><br><span class="line"><span class="comment"># for forks use: rvm install ruby-head-&lt;name&gt; --url https://github.com/github/ruby.git --branch 2.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JRuby</span></span><br><span class="line">jruby-<span class="number">1.6</span>.<span class="number">8</span></span><br><span class="line">jruby[-<span class="number">1.7</span>.<span class="number">17</span>]</span><br><span class="line">jruby-head</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rubinius</span></span><br><span class="line">rbx-<span class="number">1.3</span>.<span class="number">3</span></span><br><span class="line">rbx-<span class="number">2.0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>We choose the stable version [ruby-] 1.9.3 [-p551], and execute the following command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm install <span class="number">1.9</span>.<span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#extracting rubygems-2.4.5....</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#removing old rubygems.........</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#installing rubygems-2.4.5..................</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#gemset created /usr/local/rvm/gems/ruby-1.9.3-p551@global</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#importing gemset /usr/local/rvm/gemsets/global.gems...........................................................</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#generating global wrappers........</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#gemset created /usr/local/rvm/gems/ruby-1.9.3-p551</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#importing gemsetfile /usr/local/rvm/gemsets/default.gems evaluated to empty gem list</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#generating default wrappers........</span></span><br><span class="line">ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#adjusting #shebangs for (gem irb erb ri rdoc testrb rake).</span></span><br><span class="line">Install of ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551 - <span class="comment">#complete</span></span><br></pre></td></tr></table></figure>
<p>The installation process is pretty long time, but you do not need any intervention, after successful, you check with the following command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -v</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># ruby -v</span></span><br><span class="line">ruby <span class="number">1.9</span>.<span class="number">3</span>p551 (<span class="number">2014</span>-<span class="number">11</span>-<span class="number">13</span> revision <span class="number">48407</span>) [x86_64-linux]</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="Install_Rubygems"><a href="#Install_Rubygems" class="headerlink" title="Install Rubygems"></a>Install Rubygems</h3><p>Rubygems is a Ruby’s packages management program, very popular in applications written by Ruby language and the Ruby On Rails framework.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install rubygems</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># yum -y install rubygems</span></span><br><span class="line">Loaded plugins: security</span><br><span class="line">Setting up Install Process</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package rubygems.noarch <span class="number">0</span>:<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6 will be installed</span><br><span class="line">--&gt; Processing Dependency: ruby(abi) = <span class="number">1.8</span> <span class="keyword">for</span> package: rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch</span><br><span class="line">--&gt; Processing Dependency: ruby-rdoc <span class="keyword">for</span> package: rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch</span><br><span class="line">--&gt; Processing Dependency: /usr/bin/ruby <span class="keyword">for</span> package: rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package ruby.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6 will be installed</span><br><span class="line">---&gt; Package ruby-libs.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6 will be installed</span><br><span class="line">--&gt; Processing Dependency: libreadline.so.<span class="number">5</span>()(<span class="number">64</span>bit) <span class="keyword">for</span> package: ruby-libs-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64</span><br><span class="line">---&gt; Package ruby-rdoc.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6 will be installed</span><br><span class="line">--&gt; Processing Dependency: ruby-irb = <span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6 <span class="keyword">for</span> package: ruby-rdoc-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package compat-readline5.x86_64 <span class="number">0</span>:<span class="number">5.2</span>-<span class="number">17.1</span>.el6 will be installed</span><br><span class="line">---&gt; Package ruby-irb.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">==============================================================================================================</span><br><span class="line"> Package                       Arch                Version                         Repository            Size</span><br><span class="line">==============================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> rubygems                      noarch              <span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6                     base                 <span class="number">207</span> k</span><br><span class="line">Installing <span class="keyword">for</span> dependencies:</span><br><span class="line"> compat-readline5              x86_64              <span class="number">5.2</span>-<span class="number">17.1</span>.el6                    base                 <span class="number">130</span> k</span><br><span class="line"> ruby                          x86_64              <span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6               updates              <span class="number">538</span> k</span><br><span class="line"> ruby-irb                      x86_64              <span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6               updates              <span class="number">317</span> k</span><br><span class="line"> ruby-libs                     x86_64              <span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6               updates              <span class="number">1.7</span> M</span><br><span class="line"> ruby-rdoc                     x86_64              <span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6               updates              <span class="number">380</span> k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">==============================================================================================================</span><br><span class="line">Install       <span class="number">6</span> Package(s)</span><br><span class="line"></span><br><span class="line">Total download size: <span class="number">3.2</span> M</span><br><span class="line">Installed size: <span class="number">11</span> M</span><br><span class="line">Downloading Packages:</span><br><span class="line">(<span class="number">1</span>/<span class="number">6</span>): compat-readline5-<span class="number">5.2</span>-<span class="number">17.1</span>.el6.x86_64.rpm                                        | <span class="number">130</span> kB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">(<span class="number">2</span>/<span class="number">6</span>): ruby-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64.rpm                                               | <span class="number">538</span> kB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">(<span class="number">3</span>/<span class="number">6</span>): ruby-irb-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64.rpm                                           | <span class="number">317</span> kB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">(<span class="number">4</span>/<span class="number">6</span>): ruby-libs-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64.rpm                                          | <span class="number">1.7</span> MB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">(<span class="number">5</span>/<span class="number">6</span>): ruby-rdoc-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64.rpm                                          | <span class="number">380</span> kB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">(<span class="number">6</span>/<span class="number">6</span>): rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch.rpm                                                 | <span class="number">207</span> kB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">--------------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                         <span class="number">3.8</span> MB/s | <span class="number">3.2</span> MB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Installing : compat-readline5-<span class="number">5.2</span>-<span class="number">17.1</span>.el6.x86_64                                                       <span class="number">1</span>/<span class="number">6</span> </span><br><span class="line">  Installing : ruby-libs-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                         <span class="number">2</span>/<span class="number">6</span> </span><br><span class="line">  Installing : ruby-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                              <span class="number">3</span>/<span class="number">6</span> </span><br><span class="line">  Installing : ruby-irb-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                          <span class="number">4</span>/<span class="number">6</span> </span><br><span class="line">  Installing : ruby-rdoc-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                         <span class="number">5</span>/<span class="number">6</span> </span><br><span class="line">  Installing : rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch                                                                <span class="number">6</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : ruby-libs-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                         <span class="number">1</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : compat-readline5-<span class="number">5.2</span>-<span class="number">17.1</span>.el6.x86_64                                                       <span class="number">2</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : ruby-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                              <span class="number">3</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : ruby-irb-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                          <span class="number">4</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : rubygems-<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6.noarch                                                                <span class="number">5</span>/<span class="number">6</span> </span><br><span class="line">  Verifying  : ruby-rdoc-<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6.x86_64                                                         <span class="number">6</span>/<span class="number">6</span> </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  rubygems.noarch <span class="number">0</span>:<span class="number">1.3</span>.<span class="number">7</span>-<span class="number">5</span>.el6                                                                               </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  compat-readline5.x86_64 <span class="number">0</span>:<span class="number">5.2</span>-<span class="number">17.1</span>.el6                 ruby.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6                     </span><br><span class="line">  ruby-irb.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6                    ruby-libs.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6                </span><br><span class="line">  ruby-rdoc.x86_64 <span class="number">0</span>:<span class="number">1.8</span>.<span class="number">7.374</span>-<span class="number">3</span>.el6_6                  </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="Install_Passenger"><a href="#Install_Passenger" class="headerlink" title="Install Passenger"></a>Install Passenger</h3><p>The full name of the Passenger is Phusion Passenger, known as mod_rails or mod_rack, it is a web application intergrate with Apache and it can operate as a standalone web server support for the Ruby On Rails applications.</p>
<p>Execute the following command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install passenger</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># gem install passenger</span></span><br><span class="line">Fetching: rack-<span class="number">1.5</span>.<span class="number">2</span>.gem (<span class="number">100</span>%)</span><br><span class="line">Successfully installed rack-<span class="number">1.5</span>.<span class="number">2</span></span><br><span class="line">Fetching: daemon_controller-<span class="number">1.2</span>.<span class="number">0</span>.gem (<span class="number">100</span>%)</span><br><span class="line">Successfully installed daemon_controller-<span class="number">1.2</span>.<span class="number">0</span></span><br><span class="line">Fetching: passenger-<span class="number">4.0</span>.<span class="number">55</span>.gem (<span class="number">100</span>%)</span><br><span class="line">Building native extensions.  This could take a while...</span><br><span class="line">Successfully installed passenger-<span class="number">4.0</span>.<span class="number">55</span></span><br><span class="line">unable to convert <span class="string">"\x89"</span> from ASCII-<span class="number">8</span>BIT to UTF-<span class="number">8</span> <span class="keyword">for</span> <span class="built_in">test</span>/multipart/binary, skipping</span><br><span class="line">Installing ri documentation <span class="keyword">for</span> rack-<span class="number">1.5</span>.<span class="number">2</span></span><br><span class="line">Installing ri documentation <span class="keyword">for</span> daemon_controller-<span class="number">1.2</span>.<span class="number">0</span></span><br><span class="line">Installing ri documentation <span class="keyword">for</span> passenger-<span class="number">4.0</span>.<span class="number">55</span></span><br><span class="line"><span class="number">3</span> gems installed</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>After last command. Execute the following command :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passenger-install-apache2-module</span><br></pre></td></tr></table></figure></p>
<p>执行过程：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">--------------------------------------------</span><br><span class="line">Almost there!</span><br><span class="line"></span><br><span class="line">Please edit your Apache configuration file, and add these lines:</span><br><span class="line"></span><br><span class="line">   LoadModule passenger_module /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/gems/passenger-<span class="number">4.0</span>.<span class="number">55</span>/buildout/apache2/mod_passenger.so</span><br><span class="line">   &lt;IfModule mod_passenger.c&gt;</span><br><span class="line">     PassengerRoot /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/gems/passenger-<span class="number">4.0</span>.<span class="number">55</span></span><br><span class="line">     PassengerDefaultRuby /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/wrappers/ruby</span><br><span class="line">   &lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line">After you restart Apache, you are ready to deploy any number of web</span><br><span class="line">applications on Apache, with a minimum amount of configuration!</span><br><span class="line"></span><br><span class="line">Press ENTER to continue.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------------</span><br><span class="line"></span><br><span class="line">Deploying a web application: an example</span><br><span class="line"></span><br><span class="line">Suppose you have a web application <span class="keyword">in</span> /somewhere. Add a virtual host to your</span><br><span class="line">Apache configuration file and <span class="built_in">set</span> its DocumentRoot to /somewhere/public:</span><br><span class="line"></span><br><span class="line">   &lt;VirtualHost *:<span class="number">80</span>&gt;</span><br><span class="line">      ServerName www.yourhost.com</span><br><span class="line">      <span class="comment"># !!! Be sure to point DocumentRoot to 'public'!</span></span><br><span class="line">      DocumentRoot /somewhere/public    </span><br><span class="line">      &lt;Directory /somewhere/public&gt;</span><br><span class="line">         <span class="comment"># This relaxes Apache security settings.</span></span><br><span class="line">         AllowOverride all</span><br><span class="line">         <span class="comment"># MultiViews must be turned off.</span></span><br><span class="line">         Options -MultiViews</span><br><span class="line">         <span class="comment"># Uncomment this if you're on Apache &gt;= 2.4:</span></span><br><span class="line">         <span class="comment">#Require all granted</span></span><br><span class="line">      &lt;/Directory&gt;</span><br><span class="line">   &lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">And that<span class="string">'s it! You may also want to check the Users Guide for security and</span><br><span class="line">optimization tips, troubleshooting and other useful information:</span><br><span class="line"></span><br><span class="line">  /usr/local/rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.55/doc/Users guide Apache.html</span><br><span class="line">  https://www.phusionpassenger.com/documentation/Users%20guide%20Apache.html</span><br><span class="line"></span><br><span class="line">Enjoy Phusion Passenger, a product of Phusion (www.phusion.nl) :-)</span><br><span class="line">https://www.phusionpassenger.com</span><br><span class="line"></span><br><span class="line">Phusion Passenger is a trademark of Hongli Lai &amp; Ninh Bui.</span><br><span class="line">[root@iZ23lttzrggZ /]#</span></span><br></pre></td></tr></table></figure></p>
<p>After completed, we copy a notification block in the window to create the configuration file in the next steps (select block notification and press C to copy).<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LoadModule passenger_module /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/gems/passenger-<span class="number">4.0</span>.<span class="number">55</span>/buildout/apache2/mod_passenger.so</span><br><span class="line">&lt;IfModule mod_passenger.c&gt;</span><br><span class="line">   PassengerRoot /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/gems/passenger-<span class="number">4.0</span>.<span class="number">55</span></span><br><span class="line">   PassengerDefaultRuby /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/wrappers/ruby</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure></p>
<p>Create a new virtual host file for Passenger :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/httpd/conf.d/passenger.conf</span><br></pre></td></tr></table></figure></p>
<p>Paste the command blocks into the empty file and save it, then restart the Apache service.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd restart</span><br></pre></td></tr></table></figure></p>
<p><strong>Success!!!!!</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># service httpd restart</span></span><br><span class="line">Stopping httpd:                                            [  OK  ]</span><br><span class="line">Starting httpd:                                            [  OK  ]</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Create_Database_for_Redmine"><a href="#Create_Database_for_Redmine" class="headerlink" title="Create Database for Redmine"></a>Create Database for Redmine</h3><p>Use MySQLAdmin to create an empty database for Redmine, saved password to fill in the configuration file in the next steps.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql --user=root --password=root_password_mysql</span><br><span class="line">create database redmine_db character <span class="built_in">set</span> utf8;</span><br><span class="line">create user <span class="string">'redmine_admin'</span>@<span class="string">'localhost'</span> identified by <span class="string">'your_new_password'</span>;</span><br><span class="line">grant all privileges on redmine_db.* to <span class="string">'redmine_admin'</span>@<span class="string">'localhost'</span>;</span><br><span class="line">quit;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># mysql --user=root --password=root_password_mysql</span></span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is <span class="number">19</span></span><br><span class="line">Server version: <span class="number">5.1</span>.<span class="number">73</span> Source distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2013</span>, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> help. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; create database redmine_db character <span class="built_in">set</span> utf8;</span><br><span class="line">Query OK, <span class="number">1</span> row affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; create user <span class="string">'redmine_admin'</span>@<span class="string">'localhost'</span> identified by <span class="string">'your_new_password'</span>;</span><br><span class="line">Query OK, <span class="number">0</span> rows affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; grant all privileges on redmine_db.* to <span class="string">'redmine_admin'</span>@<span class="string">'localhost'</span>;</span><br><span class="line">Query OK, <span class="number">0</span> rows affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; quit;</span><br><span class="line">Bye</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="Install_Redmine"><a href="#Install_Redmine" class="headerlink" title="Install Redmine"></a>Install Redmine</h3><p>Redmine is a main program of the project management system, we will download and install the program from the website of Redmine.</p>
<p>Download Redmine version 2.5.x to directory “/var/www” on the Centos OS.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www</span><br><span class="line">wget http://www.redmine.org/releases/redmine-<span class="number">2.5</span>.<span class="number">0</span>.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>Extract the folder and rename directory<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar xvfz redmine-<span class="number">2.5</span>.<span class="number">0</span>.tar.gz</span><br><span class="line">mv redmine-<span class="number">2.5</span>.<span class="number">0</span> redmine</span><br><span class="line">rm -rf redmine-<span class="number">2.5</span>.<span class="number">0</span>.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>Configuring the Database</p>
<p>The next, we need to configure the database was created from the above steps.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/redmine/config</span><br><span class="line">cp database.yml.example database.yml</span><br><span class="line">nano database.yml</span><br></pre></td></tr></table></figure></p>
<p>database.yml infomations:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Default setup is given for MySQL with ruby1.9. If you're running Redmine</span></span><br><span class="line"><span class="comment"># with MySQL and ruby1.8, replace the adapter name with `mysql`.</span></span><br><span class="line"><span class="comment"># Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.</span></span><br><span class="line"><span class="comment"># Line indentation must be 2 spaces (no tabs).</span></span><br><span class="line"></span><br><span class="line">production:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine</span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br><span class="line"></span><br><span class="line">development:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine_development</span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># Warning: The database defined as "test" will be erased and</span></span><br><span class="line"><span class="comment"># re-generated from your development database when you run "rake".</span></span><br><span class="line"><span class="comment"># Do not set this db to the same as development or production.</span></span><br><span class="line"><span class="built_in">test</span>:</span><br><span class="line"><span class="comment"># Default setup is given for MySQL with ruby1.9. If you're running Redmine</span></span><br><span class="line"><span class="comment"># with MySQL and ruby1.8, replace the adapter name with `mysql`.</span></span><br><span class="line"><span class="comment"># Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.</span></span><br><span class="line"><span class="comment"># Line indentation must be 2 spaces (no tabs).</span></span><br><span class="line"></span><br><span class="line">production:</span><br><span class="line">   adapter: mysql2</span><br><span class="line">  database: redmine</span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br><span class="line"></span><br><span class="line">development:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine_development</span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># Warning: The database defined as "test" will be erased and</span></span><br><span class="line"><span class="comment"># re-generated from your development database when you run "rake".</span></span><br><span class="line"><span class="comment"># Do not set this db to the same as development or production.</span></span><br><span class="line"><span class="built_in">test</span>:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine_<span class="built_in">test</span></span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># PostgreSQL configuration example</span></span><br><span class="line"><span class="comment">#production:</span></span><br><span class="line"><span class="comment">#  adapter: postgresql</span></span><br><span class="line"><span class="comment">#  database: redmine</span></span><br><span class="line"><span class="comment">#  host: localhost</span></span><br><span class="line"><span class="comment">#  username: postgres</span></span><br><span class="line"><span class="comment">#  password: "postgres"</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQLite3 configuration example</span></span><br><span class="line"><span class="comment">#production:</span></span><br><span class="line"><span class="comment">#  adapter: sqlite3</span></span><br><span class="line"><span class="comment">#  database: db/redmine.sqlite3</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQL Server configuration example</span></span><br><span class="line"><span class="comment">#production:</span></span><br><span class="line"><span class="comment">#  adapter: sqlserver</span></span><br><span class="line"><span class="comment">#  database: redmine</span></span><br><span class="line"><span class="comment">#  host: localhost</span></span><br><span class="line"><span class="comment">#  username: jenkins</span></span><br><span class="line"><span class="comment">#  password: jenkins</span></span><br></pre></td></tr></table></figure></p>
<p>Enter name for database, enter username and password of the database.<br>Change this:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">production:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine</span><br><span class="line">  host: localhost</span><br><span class="line">  username: root</span><br><span class="line">  password: <span class="string">""</span></span><br><span class="line">  encoding: utf8</span><br></pre></td></tr></table></figure></p>
<p>To:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">production:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: redmine_db</span><br><span class="line">  host: localhost</span><br><span class="line">  username: redmine_admin</span><br><span class="line">  password: <span class="string">"LmmBao@2014"</span></span><br><span class="line">  encoding: utf8</span><br></pre></td></tr></table></figure></p>
<p> Press CTRL + O to save the file and CTRL + X to exit.</p>
<h3 id="Setting_up_Rails"><a href="#Setting_up_Rails" class="headerlink" title="Setting up Rails"></a>Setting up Rails</h3><p>Install the package library support for Rails using the Bundle.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/redmine</span><br><span class="line">gem install bundler</span><br><span class="line">bundle install</span><br><span class="line">rake generate_secret_token</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ config]<span class="comment"># cd /var/www/redmine</span></span><br><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment"># gem install bundler</span></span><br><span class="line">Fetching: bundler-<span class="number">1.7</span>.<span class="number">9</span>.gem (<span class="number">100</span>%)</span><br><span class="line">Successfully installed bundler-<span class="number">1.7</span>.<span class="number">9</span></span><br><span class="line">Installing ri documentation <span class="keyword">for</span> bundler-<span class="number">1.7</span>.<span class="number">9</span></span><br><span class="line"><span class="number">1</span> gem installed</span><br><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment"># bundle install</span></span><br><span class="line">Don<span class="string">'t run Bundler as root. Bundler can ask for sudo if it is needed, and installing your bundle as root will</span><br><span class="line">break this application for all non-root users on this machine.</span><br><span class="line">Fetching gem metadata from https://rubygems.org/.........</span><br><span class="line">Resolving dependencies...</span><br><span class="line">Installing rake 10.4.2</span><br><span class="line">Installing i18n 0.6.11</span><br><span class="line">Installing multi_json 1.10.1</span><br><span class="line">Installing activesupport 3.2.17</span></span><br></pre></td></tr></table></figure>
<p><strong>*When i run bundle install command, an error occurred while installing rmagick (2.13.4), and Bundler cannot continue.</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Gem files will remain installed <span class="keyword">in</span> /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/gems/rmagick-<span class="number">2.13</span>.<span class="number">4</span> <span class="keyword">for</span> inspection.</span><br><span class="line">Results logged to /usr/<span class="built_in">local</span>/rvm/gems/ruby-<span class="number">1.9</span>.<span class="number">3</span>-p551/extensions/x86_64-linux/<span class="number">1.9</span>.<span class="number">1</span>/rmagick-<span class="number">2.13</span>.<span class="number">4</span>/gem_make.out</span><br><span class="line">An error occurred <span class="keyword">while</span> installing rmagick (<span class="number">2.13</span>.<span class="number">4</span>), and Bundler cannot continue.</span><br><span class="line">Make sure that `gem install rmagick -v <span class="string">'2.13.4'</span>` succeeds before bundling.</span><br><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment"># yum install ImageMagick-devel</span></span><br></pre></td></tr></table></figure></p>
<p>Get solution from<a href="http://stackoverflow.com/questions/5201689/rmagick-gem-install-cant-find-magick-config" target="_blank" rel="external">Stack Overflow</a><br><img src="http://i.imgur.com/J8Dq8l3.jpg" alt="Stack Overflow"><br>Then run bundle install again.<br>Success!!<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Installing rmagick <span class="number">2.13</span>.<span class="number">4</span></span><br><span class="line">Installing rubyzip <span class="number">1.1</span>.<span class="number">6</span></span><br><span class="line">Installing websocket <span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line">Installing selenium-webdriver <span class="number">2.44</span>.<span class="number">0</span></span><br><span class="line">Installing shoulda-context <span class="number">1.0</span>.<span class="number">2</span></span><br><span class="line">Installing shoulda-matchers <span class="number">1.4</span>.<span class="number">1</span></span><br><span class="line">Installing shoulda <span class="number">3.3</span>.<span class="number">2</span></span><br><span class="line">Installing yard <span class="number">0.8</span>.<span class="number">7.6</span></span><br><span class="line">Your bundle is complete!</span><br><span class="line">Use `bundle show [gemname]` to see <span class="built_in">where</span> a bundled gem is installed.</span><br><span class="line">Post-install message from rmagick:</span><br><span class="line">Please report any bugs. See https://github.com/gemhome/rmagick/compare/RMagick_2-<span class="number">13</span>-<span class="number">2</span>...master and https://github.com/rmagick/rmagick/issues/<span class="number">18</span></span><br><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<p><img src="http://i.imgur.com/jm5adwC.jpg" alt=""><br>The next, we create the database table for the Redmine application.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RAILS_ENV=production rake db:migrate</span><br><span class="line">RAILS_ENV=production rake redmine:load_default_data</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment"># RAILS_ENV=production rake redmine:load_default_data</span></span><br><span class="line"></span><br><span class="line">Select language: ar, az, <span class="built_in">bg</span>, bs, ca, cs, da, de, el, en, en-GB, es, et, eu, fa, <span class="keyword">fi</span>, fr, gl, he, hr, hu, id, it, ja, ko, lt, lv, mk, mn, nl, no, pl, pt, pt-BR, ro, ru, sk, sl, sq, sr, sr-YU, sv, th, tr, uk, vi, zh, zh-TW [en] </span><br><span class="line">====================================</span><br><span class="line">Default configuration data loaded.</span><br><span class="line">[root@iZ23lttzrggZ redmine]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="Activate_FCGI"><a href="#Activate_FCGI" class="headerlink" title="Activate FCGI"></a>Activate FCGI</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/redmine/public</span><br><span class="line">mkdir plugin_assets</span><br><span class="line">cp dispatch.fcgi.example dispatch.fcgi</span><br><span class="line">cp htaccess.fcgi.example .htaccess</span><br></pre></td></tr></table></figure>
<h3 id="Setting_up_Apache_and_FastCGI"><a href="#Setting_up_Apache_and_FastCGI" class="headerlink" title="Setting up Apache and FastCGI"></a>Setting up Apache and FastCGI</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/</span><br><span class="line">rpm --import https://fedoraproject.org/static/<span class="number">0608</span>B895.txt</span><br><span class="line">wget http://dl.fedoraproject.org/pub/epel/<span class="number">6</span>/x86_64/epel-release-<span class="number">6</span>-<span class="number">8</span>.noarch.rpm</span><br><span class="line">rpm -ivh epel-release-<span class="number">6</span>-<span class="number">8</span>.noarch.rpm</span><br><span class="line">yum -y install mod_fcgid</span><br><span class="line">rm -rf epel-release-<span class="number">6</span>-<span class="number">8</span>.noarch.rpm</span><br></pre></td></tr></table></figure>
<h3 id="Creating_Files_Directory"><a href="#Creating_Files_Directory" class="headerlink" title="Creating Files Directory"></a>Creating Files Directory</h3><p>This directory contains data files generated during the operation of Redmine as document or image file, we create a new directory in the “/opt”.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/redmine/files</span><br><span class="line">chown -R apache:apache /opt/redmine</span><br><span class="line"><span class="built_in">cd</span> /var/www/redmine/config</span><br><span class="line">cp configuration.yml.example configuration.yml</span><br><span class="line">nano configuration.yml</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">94</span>   <span class="comment"># Absolute path to the directory where attachments are stored.</span></span><br><span class="line"> <span class="number">95</span>   <span class="comment"># The default is the 'files' directory in your Redmine instance.</span></span><br><span class="line"> <span class="number">96</span>   <span class="comment"># Your Redmine instance needs to have write permission on this</span></span><br><span class="line"> <span class="number">97</span>   <span class="comment"># directory.</span></span><br><span class="line"> <span class="number">98</span>   <span class="comment"># Examples:</span></span><br><span class="line"> <span class="number">99</span>   <span class="comment"># attachments_storage_path: /var/redmine/files</span></span><br><span class="line"><span class="number">100</span>   <span class="comment"># attachments_storage_path: D:/redmine/files</span></span><br><span class="line"><span class="number">101</span>   attachments_storage_path:</span><br></pre></td></tr></table></figure>
<p>Enter the directory path containing the data files you just created in the previous step into the line “attachments_storage_path”.</p>
<p>Note: You must add a space at the begin of the path “/opt/redmine/files” after character “:”<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">94</span>   <span class="comment"># Absolute path to the directory where attachments are stored.</span></span><br><span class="line"> <span class="number">95</span>   <span class="comment"># The default is the 'files' directory in your Redmine instance.</span></span><br><span class="line"> <span class="number">96</span>   <span class="comment"># Your Redmine instance needs to have write permission on this</span></span><br><span class="line"> <span class="number">97</span>   <span class="comment"># directory.</span></span><br><span class="line"> <span class="number">98</span>   <span class="comment"># Examples:</span></span><br><span class="line"> <span class="number">99</span>   <span class="comment"># attachments_storage_path: /var/redmine/files</span></span><br><span class="line"><span class="number">100</span>   <span class="comment"># attachments_storage_path: D:/redmine/files</span></span><br><span class="line"><span class="number">101</span>   attachments_storage_path: /opt/redmine/files</span><br></pre></td></tr></table></figure></p>
<h3 id="Configuring_Email"><a href="#Configuring_Email" class="headerlink" title="Configuring Email"></a>Configuring Email</h3><p>Another very important function of Redmine is using email to notify members when the contents of each project changes, Redmine can use many different methods to send email that is Sendmail, SMTP, GMail …</p>
<p>To configure the email we will edit the configuration file.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /var/www/redmine/config/configuration.yml</span><br></pre></td></tr></table></figure></p>
<p>The simplest is you use features of the default SendMail in the Centos OS by settings :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">email_delivery:</span><br><span class="line"> delivery_method: :sendmail</span><br></pre></td></tr></table></figure></p>
<p>Note : Do not use the Tab key to indent when editing the configuration file, you need to use the space bar on the keyboard.</p>
<p>If you use GMail’s SMTP, you need to register an email account with the login methods used password normal and disable two-step authentication by smart phone.</p>
<p>Enter your Gmail account as below :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">email_delivery:</span><br><span class="line"> delivery_method: :smtp</span><br><span class="line"> smtp_settings:</span><br><span class="line">      <span class="built_in">enable</span>_starttls_auto: <span class="literal">true</span></span><br><span class="line">      address: <span class="string">"smtp.gmail.com"</span> </span><br><span class="line">      port: <span class="number">587</span></span><br><span class="line">      domain: <span class="string">"smtp.gmail.com"</span> </span><br><span class="line">      authentication: :plain</span><br><span class="line">      user_name: <span class="string">"your_email@gmail.com"</span> </span><br><span class="line">      password: <span class="string">"your_password"</span></span><br></pre></td></tr></table></figure></p>
<p>Save the file configuration and exit.</p>
<h3 id="Create_Virtual_Host_for_Redmine"><a href="#Create_Virtual_Host_for_Redmine" class="headerlink" title="Create Virtual Host for Redmine"></a>Create Virtual Host for Redmine</h3><p>Create an Apache configuration file for the Redmine application at the port 80.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/httpd/conf.d/redmine.conf</span><br></pre></td></tr></table></figure></p>
<p>Copy the text below and paste into the editor window, note the information to change your domain name.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">80</span>&gt;</span><br><span class="line">        ServerName your_domain</span><br><span class="line">        ServerAdmin your_domain@domain.com</span><br><span class="line">        DocumentRoot /var/www/redmine/public/</span><br><span class="line">        ErrorLog logs/redmine_error_<span class="built_in">log</span></span><br><span class="line">        &lt;Directory <span class="string">"/var/www/redmine/public/"</span>&gt;</span><br><span class="line">                Options Indexes ExecCGI FollowSymLinks</span><br><span class="line">                Order allow,deny</span><br><span class="line">                Allow from all</span><br><span class="line">                AllowOverride all</span><br><span class="line">        &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>Save the file configuration and exit.</p>
<h3 id="Running_Redmine"><a href="#Running_Redmine" class="headerlink" title="Running Redmine"></a>Running Redmine</h3><p>Before execute Redmine in the first time, we must permission for the directory installed Redmine and restart Apache service.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www</span><br><span class="line">chown -R apache:apache redmine</span><br><span class="line">chmod -R <span class="number">755</span> redmine</span><br><span class="line">service httpd restart</span><br></pre></td></tr></table></figure></p>
<p><img src="http://i.imgur.com/xmLeYFY.jpg" alt=""><br>Redmine will run at the following address URL :<br><a href="http://your-domain" target="_blank" rel="external">http://your-domain</a><br>Login to system with an administrator account : admin / admin<br>You can change your password after successful login.<br>We can see Redmine has running but very primitive, in the next steps we will install the support plugins and customized Redmine to use professional.</p>
<h3 id="Install_Subversion"><a href="#Install_Subversion" class="headerlink" title="Install Subversion"></a>Install Subversion</h3><p>Subversion, also known as SVN, it is a version management system is very popular and easy to use, most programmers can use it competently.</p>
<p>We need to create a folder to store data for Redmine, the following command creates a directory and permissions for the Apache service.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/repositories/svn</span><br><span class="line">chown -R apache:apache /opt/repositories/</span><br><span class="line">chmod <span class="number">0755</span> /opt/repositories</span><br></pre></td></tr></table></figure></p>
<p>The following command install Subversion and the packages :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mod_dav_svn subversion subversion-ruby</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ23lttzrggZ /]<span class="comment"># yum install mod_dav_svn subversion subversion-ruby</span></span><br><span class="line">Loaded plugins: security</span><br><span class="line">Setting up Install Process</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package mod_dav_svn.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5 will be installed</span><br><span class="line">---&gt; Package subversion.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5 will be installed</span><br><span class="line">---&gt; Package subversion-ruby.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">==============================================================================================================</span><br><span class="line"> Package                       Arch                 Version                          Repository          Size</span><br><span class="line">==============================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> mod_dav_svn                   x86_64               <span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                  base                <span class="number">79</span> k</span><br><span class="line"> subversion                    x86_64               <span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                  base               <span class="number">2.3</span> M</span><br><span class="line"> subversion-ruby               x86_64               <span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                  base               <span class="number">382</span> k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">==============================================================================================================</span><br><span class="line">Install       <span class="number">3</span> Package(s)</span><br><span class="line"></span><br><span class="line">Total size: <span class="number">2.7</span> M</span><br><span class="line">Total download size: <span class="number">2.3</span> M</span><br><span class="line">Installed size: <span class="number">13</span> M</span><br><span class="line">Is this ok [y/N]: y</span><br><span class="line">Downloading Packages:</span><br><span class="line">subversion-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64.rpm                                                  | <span class="number">2.3</span> MB     <span class="number">00</span>:<span class="number">00</span>     </span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Installing : subversion-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                          <span class="number">1</span>/<span class="number">3</span> </span><br><span class="line">  Installing : subversion-ruby-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                     <span class="number">2</span>/<span class="number">3</span> </span><br><span class="line">  Installing : mod_dav_svn-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                         <span class="number">3</span>/<span class="number">3</span> </span><br><span class="line">  Verifying  : subversion-ruby-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                     <span class="number">1</span>/<span class="number">3</span> </span><br><span class="line">  Verifying  : mod_dav_svn-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                         <span class="number">2</span>/<span class="number">3</span> </span><br><span class="line">  Verifying  : subversion-<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5.x86_64                                                          <span class="number">3</span>/<span class="number">3</span> </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  mod_dav_svn.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                     subversion.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                </span><br><span class="line">  subversion-ruby.x86_64 <span class="number">0</span>:<span class="number">1.6</span>.<span class="number">11</span>-<span class="number">10</span>.el6_5                </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@iZ23lttzrggZ /]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>The next, we will create a directory and copy the file called “Redmine.pm”, it responsible for interface data repository with Redmine and it is written by Perl language programming.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/lib64/perl5/vendor_perl/Apache</span><br><span class="line">ln <span class="operator">-s</span> /var/www/redmine/extra/svn/Redmine.pm /usr/lib64/perl5/vendor_perl/Apache/Redmine.pm</span><br></pre></td></tr></table></figure></p>
<p>Note : If you are using 32 bit Centos, change the path “/usr/lib64” to “/usr/lib”</p>
<p>After installation is complete, from the Redmine application, go to the page Administration&gt; Settings&gt; Repositories to check the results.</p>
<p>To support the authentication and access to data repository for each member, we need to create a virtual host for the Apache service can access Redmine database.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/httpd/conf.d/subversion.conf</span><br></pre></td></tr></table></figure></p>
<p>Add the following lines to the end and still retain the old contents of the file :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">PerlLoadModule Apache::Redmine</span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line">        DAV svn</span><br><span class="line">        SVNParentPath <span class="string">"/opt/repositories/svn"</span> </span><br><span class="line">        SVNListParentPath on</span><br><span class="line">        Order deny,allow</span><br><span class="line">        Deny from all</span><br><span class="line">        Satisfy any</span><br><span class="line">        LimitXMLRequestBody <span class="number">0</span></span><br><span class="line">        SVNPathAuthz off</span><br><span class="line">        PerlAccessHandler Apache::Authn::Redmine::access_handler</span><br><span class="line">        PerlAuthenHandler Apache::Authn::Redmine::authen_handler</span><br><span class="line">        AuthType Basic</span><br><span class="line">        AuthName <span class="string">"Subversion Repository"</span> </span><br><span class="line">        Require valid-user</span><br><span class="line">        RedmineDSN <span class="string">"DBI:mysql:database=redmine_db;host=localhost:3306"</span> </span><br><span class="line">        RedmineDbUser <span class="string">"redmine_admin"</span> </span><br><span class="line">        RedmineDbPass <span class="string">"your_password_database_redmine"</span> </span><br><span class="line">&lt;/Location&gt;</span><br></pre></td></tr></table></figure></p>
<p>Note : You need to change the password in the “RedmineDbPass” to correct the database password of Redmine.</p>
<p>At this point, we have finished the basic settings for Redmine.</p>
<p>Thank you!</p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Redmine/" rel="tag">#Redmine</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/12/11/win8-jdk8-install/" rel="next" title="Win8下安装Jdk1.8">
                <i class="fa fa-chevron-left"></i> Win8下安装Jdk1.8
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/12/19/add-user-to-sudo/" rel="prev" title="CentOS 将用户添加到 sudo 用户组的方法">
                CentOS 将用户添加到 sudo 用户组的方法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2014/12/16/CentOS-install-redmine/"
           data-title="Install Redmine on Centos 6.5 - 64 bit" data-url="http://zhangyouzhi.com/2014/12/16/CentOS-install-redmine/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="http://ww3.sinaimg.cn/mw690/6ba3371bgw1ei1yg6iujij209l09rwg2.jpg" alt="ZhangYouzhi" itemprop="image"/>
          <p class="site-author-name" itemprop="name">ZhangYouzhi</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Where there is a will, there is a way!</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">62</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">38</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhangyouzhi" target="_blank">
                  
                    <i class="fa fa-globe"></i> github
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/zhangyouzhi" target="_blank">
                  
                    <i class="fa fa-globe"></i> weibo
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/zhangyouzhi" target="_blank">
                  
                    <i class="fa fa-globe"></i> twitter
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/zhangyouzhi" target="_blank">
                  
                    <i class="fa fa-globe"></i> douban
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/zhangyouzhi" target="_blank">
                  
                    <i class="fa fa-globe"></i> zhihu
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Update_the_System"><span class="nav-number">1.</span> <span class="nav-text">Update the System</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_the_dependencies_packages"><span class="nav-number">2.</span> <span class="nav-text">Install the dependencies packages</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Apache_and_MySQL"><span class="nav-number">3.</span> <span class="nav-text">Install Apache and MySQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Turn_off_SELinux"><span class="nav-number">4.</span> <span class="nav-text">Turn off SELinux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Set_up_the_Hostname"><span class="nav-number">5.</span> <span class="nav-text">Set up the Hostname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring_the_Firewall"><span class="nav-number">6.</span> <span class="nav-text">Configuring the Firewall</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_PHP_and_phpMyAdmin"><span class="nav-number">7.</span> <span class="nav-text">Install PHP and phpMyAdmin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Ruby"><span class="nav-number">8.</span> <span class="nav-text">Install Ruby</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Rubygems"><span class="nav-number">9.</span> <span class="nav-text">Install Rubygems</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Passenger"><span class="nav-number">10.</span> <span class="nav-text">Install Passenger</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create_Database_for_Redmine"><span class="nav-number">11.</span> <span class="nav-text">Create Database for Redmine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Redmine"><span class="nav-number">12.</span> <span class="nav-text">Install Redmine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setting_up_Rails"><span class="nav-number">13.</span> <span class="nav-text">Setting up Rails</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Activate_FCGI"><span class="nav-number">14.</span> <span class="nav-text">Activate FCGI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setting_up_Apache_and_FastCGI"><span class="nav-number">15.</span> <span class="nav-text">Setting up Apache and FastCGI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating_Files_Directory"><span class="nav-number">16.</span> <span class="nav-text">Creating Files Directory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring_Email"><span class="nav-number">17.</span> <span class="nav-text">Configuring Email</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create_Virtual_Host_for_Redmine"><span class="nav-number">18.</span> <span class="nav-text">Create Virtual Host for Redmine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Running_Redmine"><span class="nav-number">19.</span> <span class="nav-text">Running Redmine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install_Subversion"><span class="nav-number">20.</span> <span class="nav-text">Install Subversion</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZhangYouzhi</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhangyouzhi"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
